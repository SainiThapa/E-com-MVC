@model EcomMVC.ViewModel.ItemViewModel
<script src="~/js/site.js"></script>

<h2>Item Details</h2>

<div class="card" style="max-width: 50%; margin: auto;">
    <img src="@Model.ImagePath" class="card-img-top" alt="@Model.Name" style="max-height: 300px; object-fit: contain;" />
    <div class="card-body">
        <h5 class="card-title">@Model.Name</h5>
        <p class="card-text">@Model.Description</p>
        <p><strong>Price: </strong>$ @Model.Price</p>
        <p><strong>Quantity: </strong> @Model.Quantity</p>
        @if (User.IsInRole("User"))
        {
        <div class="input-group mb-3" style="width: 150px;">
        <span class="input-group-text">Quantity</span>
        <input type="number" class="form-control" id="productQuantity" name="quantity" value="1" min="1" max="@Model.Quantity" />
        </div>
            <div class="mt-3">
            @* <form asp-controller="Purchase" asp-action="Buy" method="post" class="d-inline">
                <input type="hidden" name="itemId" value="@Model.Id" />
                <input type="hidden" name="quantity" id="buyQuantity" value="1" /> <!-- You can adjust the quantity dynamically if needed -->
                <button type="submit" class="btn btn-success">Buy Now</button>
            </form> *@

            <form asp-controller="Purchase" asp-action="AddToCart" method="post" class="d-inline">
                <input type="hidden" name="itemId" value="@Model.Id" />
                <input type="hidden" name="quantity" id="cartQuantity" value="1"/> <!-- You can adjust the quantity dynamically if needed -->
                <button type="submit" class="btn btn-primary">Add to Cart</button>
            </form>
            </div>
        }
    </div>
</div>

<a asp-action="Index" class="btn btn-secondary mt-3">Back to Products</a>
